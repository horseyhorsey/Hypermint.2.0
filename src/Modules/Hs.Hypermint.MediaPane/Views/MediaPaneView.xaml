<UserControl x:Class="Hs.Hypermint.MediaPane.Views.MediaPaneView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:prism="http://prismlibrary.com/"     
             xmlns:Controls="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
             xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
             xmlns:local="clr-namespace:Hs.Hypermint.MediaPane.Controls"
             xmlns:toolkit="http://schemas.xceed.com/wpf/xaml/toolkit"
             prism:ViewModelLocator.AutoWireViewModel="True">
    <Grid x:Name="root">
        <GroupBox Header="Media View">
        <Grid Grid.Row="1">

            <Grid.Resources>
                <BooleanToVisibilityConverter x:Key="BoolToVisConverter"/>
            </Grid.Resources>

            
            
            <Image Stretch="Uniform" Margin="5"  Source="{Binding WheelSource}" AllowDrop="True"/>

            <MediaElement Stretch="Uniform" Margin="5"  Source="{Binding VideoSource}">
                <ContextMenuService.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Open"></MenuItem>
                        <MenuItem x:Name="previewVideoTrim" Header="Trim >" >
                            <Controls:NumericUpDown Value="30"/>
                            <RadioButton x:Name="vidReplace" Content="Replace" ToolTip="Move original to rubbish, replace with trimmed video."/>
                            <RadioButton x:Name="vidCopy" Content="New Copy" ToolTip="Creates a trim at this folder"/>
                            <Button Content="Trim"></Button>
                        </MenuItem>
                    </ContextMenu>
                </ContextMenuService.ContextMenu>
            </MediaElement>

            <!--TextBOXViewer-->
            <toolkit:RichTextBox Grid.Row="1" BorderBrush="Gray" Padding="10"
                                     Text="{Binding TextSource}" 
                                     Visibility="{Binding ElementName=root,
                                     Path=DataContext.IsTextSource,UpdateSourceTrigger=PropertyChanged,
                                     Converter={StaticResource BoolToVisConverter}}"
                                     ScrollViewer.VerticalScrollBarVisibility="Auto">
                <toolkit:RichTextBox.TextFormatter>
                    <toolkit:RtfFormatter />
                </toolkit:RichTextBox.TextFormatter>
            </toolkit:RichTextBox>

            <ContextMenuService.ContextMenu>
                <ContextMenu>
                    <MenuItem Header="Open with >">
                        <MenuItem Header="External Edit"></MenuItem>
                        <MenuItem Header="Default.."></MenuItem>
                    </MenuItem>

                    <MenuItem Header="BezelEdit"  ToolTip="Send this image to the bezel editor."></MenuItem>
                    <MenuItem Header="Image Edit" ToolTip="Sends to image editing"></MenuItem>
                    <MenuItem Header="Copy">
                        <!--ContextMenuOpening="_copyMenuItems_ContextMenuOpening"-->
                        <ComboBox></ComboBox>
                    </MenuItem>
                    <MenuItem Header="Preset job" IsEnabled="True">
                        <MenuItem Header="Instruction Card" ToolTip="Send this file to Instruction cards">
                            <ComboBox Width="100">
                            </ComboBox>
                            <Button Content="Create" ToolTip="Convert and send to cards."></Button>
                        </MenuItem>
                        <MenuItem Header="Image Presets" >
                            <ComboBox ToolTip="Select preset"
                                      Width="100" ItemsSource="{Binding ElementName=presetListBoxCards3,Path=Items}"></ComboBox>
                            <MenuItem Header="Media Type" IsEnabled="True">
                                <MenuItem Header="Layer 1" ></MenuItem>
                                <MenuItem Header="Layer 2" ></MenuItem>
                                <MenuItem Header="Layer 3" ></MenuItem>
                                <MenuItem Header="Layer -1" ></MenuItem>
                                <MenuItem Header="Background" ></MenuItem>
                                <MenuItem Header="Background HS" ></MenuItem>
                                <MenuItem Header="Bezel Background" ></MenuItem>
                            </MenuItem>
                        </MenuItem>
                    </MenuItem>
                </ContextMenu>
            </ContextMenuService.ContextMenu>

          
        </Grid>
        </GroupBox>
        <!--Context menu-->
    </Grid>
</UserControl>
